<script lang="ts" setup>
import type { MenuItemType } from '~/types'

defineProps<{
  list: MenuItemType[]
  active: MenuItemType
}>()

const emit = defineEmits(['change'])
</script>

<template>
  <div>
    <div class="mt-4 rounded-lg overflow-hidden">
      <MenuItem
        v-for="(item, index) in list" :key="item.name"
        class="border-b rounded-none"
        :class="{
          'border-none': index === list.length - 1,
        }"
        :active="active"
        :item="item"
        @click="emit('change', item)"
      />
    </div>

    <MenuItem
      class="mt-6"
      :active="active"
      :item="{ name: 'Settings' }"
      @click="emit('change', { name: 'Settings' })"
    >
      <div style="fill: #050e17;" class="scale-90 opacity-80">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 15.747a3.752 3.752 0 0 1-3.746-3.745 3.752 3.752 0 0 1 3.745-3.746 3.752 3.752 0 0 1 3.746 3.746 3.752 3.752 0 0 1-3.746 3.745Zm0-5.673a1.928 1.928 0 0 0 0 3.855 1.928 1.928 0 0 0 0-3.855Z" /><path d="M11.999 22c-.355 0-.727-.027-1.136-.073a1.429 1.429 0 0 1-1.182-.963l-.627-1.836-1.736.854c-.5.245-1.1.182-1.537-.164-.59-.472-1.118-1-1.59-1.59a1.45 1.45 0 0 1-.164-1.537l.854-1.736-1.836-.627a1.453 1.453 0 0 1-.963-1.19A8.358 8.358 0 0 1 2 12c0-.364.027-.736.073-1.136a1.429 1.429 0 0 1 .963-1.182l1.836-.627-.845-1.745a1.45 1.45 0 0 1 .164-1.536c.463-.582 1-1.118 1.59-1.591a1.448 1.448 0 0 1 1.537-.164l1.736.855.627-1.836c.182-.519.645-.9 1.19-.964.81-.1 1.464-.1 2.273 0a1.424 1.424 0 0 1 1.182.973l.627 1.836 1.736-.855a1.448 1.448 0 0 1 1.536.164c.582.464 1.118 1 1.591 1.59a1.45 1.45 0 0 1 .164 1.537l-.855 1.736 1.837.627c.518.182.9.646.963 1.182.046.409.073.782.073 1.136 0 .355-.027.727-.073 1.136a1.429 1.429 0 0 1-.963 1.182l-1.837.627.855 1.736c.245.5.182 1.1-.164 1.537-.463.581-1 1.118-1.59 1.59a1.448 1.448 0 0 1-1.537.164l-1.736-.854-.627 1.836a1.44 1.44 0 0 1-1.182.963c-.418.055-.79.082-1.145.082Zm-.682-1.854c.482.045.873.045 1.354 0l.691-2.018c.137-.391.428-.71.81-.864a1.469 1.469 0 0 1 1.19.037l1.909.936c.345-.291.664-.618.963-.964l-.936-1.909a1.434 1.434 0 0 1-.036-1.19c.154-.382.473-.682.872-.81l2.018-.69c.019-.237.028-.455.028-.673 0-.218-.01-.436-.037-.682l-2.018-.69a1.423 1.423 0 0 1-.863-.819 1.47 1.47 0 0 1 .036-1.19l.937-1.91a8.77 8.77 0 0 0-.964-.963l-1.909.937c-.373.181-.809.2-1.19.036a1.41 1.41 0 0 1-.81-.864l-.69-2.018a6.744 6.744 0 0 0-1.355 0l-.682 2.037c-.136.39-.427.709-.818.863a1.47 1.47 0 0 1-1.19-.036l-1.91-.937c-.345.291-.663.61-.954.955L6.7 8.629c.182.372.191.809.037 1.19a1.449 1.449 0 0 1-.864.819l-2.018.69a5.764 5.764 0 0 0-.036.673c0 .218.01.436.036.682l2.018.69c.391.137.71.428.864.81a1.47 1.47 0 0 1-.037 1.19l-.936 1.91c.291.345.618.663.964.963l1.909-.936c.372-.182.8-.2 1.19-.037.382.155.682.473.819.864l.672 2.009Z" /></svg>
      </div>
    </MenuItem>
  </div>
</template>

<style lang="scss" scoped>
.menu-item{
  @apply bg-stone-50 mt-4 rounded-lg overflow-hidden;
  &>div{
    @apply h-16 px-4 flex items-center justify-between cursor-pointer hover:bg-gray-100;
  }
}
</style>
